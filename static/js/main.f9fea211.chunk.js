(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{117:function(t,e,i){t.exports=i(251)},251:function(t,e,i){"use strict";i.r(e);var n=i(0),a=i.n(n),r=i(21),o=i.n(r),c=i(256),s=i(257),l=i(17),u=i(7),S=i(107),d=i.n(S),p=i(108),E=i(109),T=i(23),v={GET_PROVINCES_REQUEST:"GET_PROVINCES_REQUEST",GET_PROVINCES_SUCCESS:"GET_PROVINCES_SUCCESS",GET_PROVINCES_FAIL:"GET_PROVINCES_FAIL",GET_CITIES_REQUEST:"GET_CITIES_REQUEST",GET_CITIES_SUCCESS:"GET_CITIES_SUCCESS",GET_CITIES_FAIL:"GET_CITIES_FAIL",GET_DISTRICTS_REQUEST:"GET_DISTRICTS_REQUEST",GET_DISTRICTS_SUCCESS:"GET_DISTRICTS_SUCCESS",GET_DISTRICTS_FAIL:"GET_DISTRICTS_FAIL",GET_SUB_DISTRICTS_REQUEST:"GET_SUB_DISTRICTS_REQUEST",GET_SUB_DISTRICTS_SUCCESS:"GET_SUB_DISTRICTS_SUCCESS",GET_SUB_DISTRICTS_FAIL:"GET_SUB_DISTRICTS_FAIL"},_={provinces:[],cities:[],districts:[],subDistricts:[],isLoading:!1,isError:!1,error:""},C=i(255),I=Object(u.combineReducers)({form:C.a,location:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case v.GET_PROVINCES_REQUEST:case v.GET_CITIES_REQUEST:case v.GET_DISTRICTS_REQUEST:case v.GET_SUB_DISTRICTS_REQUEST:return Object(T.a)({},t,{isLoading:!0});case v.GET_PROVINCES_SUCCESS:return Object(T.a)({},t,{provinces:e.payload,isLoading:!1});case v.GET_CITIES_SUCCESS:return Object(T.a)({},t,{cities:e.payload,isLoading:!1});case v.GET_DISTRICTS_SUCCESS:return Object(T.a)({},t,{districts:e.payload,isLoading:!1});case v.GET_SUB_DISTRICTS_SUCCESS:return Object(T.a)({},t,{subDistricts:e.payload,isLoading:!1});case v.GET_PROVINCES_FAIL:case v.GET_CITIES_FAIL:case v.GET_DISTRICTS_FAIL:case v.GET_SUB_DISTRICTS_FAIL:return Object(T.a)({},t,{isLoading:!1,isError:!0,error:e.payload});default:return t}}}),b=[p.a,d.a],g=Object(u.createStore)(I,Object(E.composeWithDevTools)(u.applyMiddleware.apply(void 0,b))),m=i(44),f=i(45),h=i(49),D=i(46),R=i(50),y=i(258),G=i(22),U=i.n(G),O=i(28),L=i.n(O),P={getGeolocation:function(t,e){window.navigator.geolocation.getCurrentPosition(t,e)},getReverseGeocoding:function(t,e){return L.a.get("https://us1.locationiq.com/v1/reverse.php?key=".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/frontend-test"}).REACT_APP_LOCATION_API,"&lat=").concat(t,"&lon=").concat(e,"&format=json"))},getProvince:function(){return L.a.get("https://danacita.co.id/api/locations/v1/provinces")},getCities:function(t){return L.a.get("https://danacita.co.id/api/locations/v1/cities?province_id=".concat(t))},getDistricts:function(t){return L.a.get("https://danacita.co.id/api/locations/v1/districts?city_id=".concat(t))},getSubDistricts:function(t){return L.a.get("https://danacita.co.id/api/locations/v1/subdistricts?district_id=".concat(t))}};var j={getProvinces:function(){return function(t){return t({type:v.GET_PROVINCES_REQUEST}),P.getProvince().then(function(e){var i=e.data.provinces.map(function(t){return{label:t.name,value:t.id}});t(function(t){return{type:v.GET_PROVINCES_SUCCESS,payload:t}}(i))},function(e){var i;t((i=e,{type:v.GET_PROVINCES_FAIL,payload:i,error:!0}))})}},getCities:function(t){return function(e){return e({type:v.GET_CITIES_REQUEST}),P.getCities(t).then(function(t){var i=t.data.cities.map(function(t){return{label:t.name,value:t.id}});e(function(t){return{type:v.GET_CITIES_SUCCESS,payload:t}}(i))},function(t){var i;e((i=t,{type:v.GET_CITIES_FAIL,payload:i,error:!0}))})}},getDistricts:function(t){return function(e){return e({type:v.GET_DISTRICTS_REQUEST}),P.getDistricts(t).then(function(t){var i=t.data.districts.map(function(t){return{label:t.name,value:t.id}});e(function(t){return{type:v.GET_DISTRICTS_SUCCESS,payload:t}}(i))},function(t){var i;e((i=t,{type:v.GET_DISTRICTS_FAIL,payload:i,error:!0}))})}},getSubDistricts:function(t){return function(e){return e({type:v.GET_SUB_DISTRICTS_REQUEST}),P.getSubDistricts(t).then(function(t){var i=t.data.subdistricts.map(function(t){return{label:t.name,value:t.id}});e(function(t){return{type:v.GET_SUB_DISTRICTS_SUCCESS,payload:t}}(i))},function(t){var i;e((i=t,{type:v.GET_SUB_DISTRICTS_FAIL,payload:i,error:!0}))})}}};var w=i(254),F=i(252),A=i(115),N=a.a.memo(function(t){var e=t.input,i=e.value,n=e.onChange,r=t.meta,o=r.touched,c=r.error,s=t.label,l=t.options,u=t.isLoading,S=t.isDisabled;return a.a.createElement("div",null,a.a.createElement("h3",null,s),a.a.createElement(A.a,{value:i,isDisabled:S,options:l,onChange:n,isLoading:u}),o&&!!c&&a.a.createElement("p",{style:{color:"red",fontSize:"12px"}},c))});N.defaultProps={label:"forms",options:[{label:"",value:0}],isLoading:!0,isDisabled:!0};var Q=a.a.memo(N),B=function(t){return t?void 0:"Please fill in this section"},k=function(t){var e=t.handleSubmit,i=t.provinces,n=t.cities,r=t.districts,o=t.subDistricts,c=t.selectedProvince,s=t.selectedCity,l=t.selectedDistrict;return a.a.createElement("form",{onSubmit:e},a.a.createElement(w.a,{name:"province",component:Q,label:"Province*",options:i,isLoading:0===i.length,isDisabled:!1,validate:B}),a.a.createElement(w.a,{name:"city",component:Q,label:"Cities*",options:n,isLoading:0===n.length,isDisabled:!c.value,validate:B}),a.a.createElement(w.a,{name:"district",component:Q,label:"District*",options:r,isLoading:0===r.length,isDisabled:!s.value,validate:B}),a.a.createElement(w.a,{name:"subdistrict",component:Q,label:"Sub-District*",options:o,isLoading:0===o.length,isDisabled:!l.value,validate:B}),a.a.createElement("button",{type:"submit",style:{marginTop:"16px",width:"70px",height:"30px",borderRadius:"8px"}},"Submit"))};k.defaultProps={provinces:[{label:"",value:0}],cities:[{label:"",value:0}],districts:[{label:"",value:0}],subDistricts:[{label:"",value:0}],selectedProvince:{label:"",value:0},selectedCity:{label:"",value:0},selectedDistrict:{label:"",value:0}};var x=Object(F.a)({form:"RegistrationForm"})(k),V={getProvinces:j.getProvinces,getCities:j.getCities,getDistricts:j.getDistricts,getSubDistricts:j.getSubDistricts},J=function(t){function e(){var t,i;Object(m.a)(this,e);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(i=Object(h.a)(this,(t=Object(D.a)(e)).call.apply(t,[this].concat(a)))).handleSubmit=function(t){console.log({selectedProvince:t.province.label,selectedCity:t.city.label,selectedDistrict:t.district.label,selectedSubDistric:t.subdistrict.label})},i}return Object(R.a)(e,t),Object(f.a)(e,[{key:"componentDidMount",value:function(){this.props.getProvinces()}},{key:"componentDidUpdate",value:function(t){U()(t,"selectedProvince.value")!==U()(this.props,"selectedProvince.value")&&this.props.getCities(this.props.selectedProvince.value),U()(t,"selectedCity.value")!==U()(this.props,"selectedCity.value")&&this.props.getDistricts(this.props.selectedCity.value),U()(t,"selectedDistrict.value")!==U()(this.props,"selectedDistrict.value")&&this.props.getSubDistricts(this.props.selectedDistrict.value)}},{key:"render",value:function(){var t=this.props,e=t.provinces,i=t.cities,n=t.districts,r=t.subDistricts,o=t.selectedProvince,c=t.selectedCity,s=t.selectedDistrict,l=t.selectedSubDistric;return a.a.createElement("div",null,a.a.createElement(x,{provinces:e,cities:i,districts:n,subDistricts:r,selectedProvince:o,selectedCity:c,selectedDistrict:s,selectedSubDistrics:l,onSubmit:this.handleSubmit}))}}]),e}(n.Component),M=Object(l.b)(function(t){return{provinces:t.location.provinces,cities:t.location.cities,districts:t.location.districts,subDistricts:t.location.subDistricts,selectedProvince:Object(y.a)("RegistrationForm")(t,"province"),selectedCity:Object(y.a)("RegistrationForm")(t,"city"),selectedDistrict:Object(y.a)("RegistrationForm")(t,"district"),selectedSubDistric:Object(y.a)("RegistrationForm")(t,"subdistrict")}},V)(J),W=i(35),q=i.n(W),z=i(73),$=function(t){function e(){var t,i;Object(m.a)(this,e);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(i=Object(h.a)(this,(t=Object(D.a)(e)).call.apply(t,[this].concat(a)))).state={position:{},error:""},i.getLocationSuccess=function(t){i.setState({position:{lat:t.coords.latitude,lng:t.coords.longitude}})},i.getLocationFail=function(t){i.setState({error:t})},i}return Object(R.a)(e,t),Object(f.a)(e,[{key:"componentDidMount",value:function(){var t=Object(z.a)(q.a.mark(function t(){return q.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.getGeolocation(this.getLocationSuccess,this.getLocationFail);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var t=Object(z.a)(q.a.mark(function t(e,i){var n;return q.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(JSON.parse(JSON.stringify(i.position))===JSON.parse(JSON.stringify(this.state.position))){t.next=5;break}return t.next=3,P.getReverseGeocoding(this.state.position.lat,this.state.position.lng);case 3:n=t.sent,console.log("location: ",n);case 5:case"end":return t.stop()}},t,this)}));return function(e,i){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this.state.position;return t.lat&&t.lng?a.a.createElement("div",null,"This is your location ",t.lat,", ",t.lng):a.a.createElement("div",null)}}]),e}(n.Component),H=function(){return a.a.createElement(l.a,{store:g},a.a.createElement(c.a,null,a.a.createElement(s.a,{path:"/",component:M,exact:!0}),a.a.createElement(s.a,{path:"/home",component:$,exact:!0})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var K=i(253);o.a.render(a.a.createElement(K.a,{basename:"/frontend-test"},a.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[117,2,1]]]);
//# sourceMappingURL=main.f9fea211.chunk.js.map